            function discount(id){
                $('.text-danger').text(" ");         
                var mrp = $('#mrp'+id).val();
                // alert(mrp);
                var discountType = $("#discount_type"+id).val();
                var discount = $('#discount'+id).val();
                if(mrp <= 0){
                    $('div.error span#mrp'+id).html("Enter Valid Price");
                }
                if (discountType === 'percentage') {
                    if ((discount < 100) && (discount > 0)) {
                        var discountPrice = mrp - (mrp * discount / 100);
                    $('#discount_price'+id).val(discountPrice);
                    }else{
                        $('div.error span#discount'+id).html("Enter Valid Discount");
                    }
                    } else if (discountType === 'flat') {
                    if ((parseInt(discount) < parseInt(mrp)) && (discount > 0)) {
                    var discountPrice = mrp - discount;
                    $('#discount_price'+id).val(discountPrice);
                    }else{
                        $('div.error span#discount'+id).html("Enter Valid Discount");
                    }
                }
            }        
        $(document).on("keyup click", ".mrp", function () {
            var id = $(this).data('mrpid');
            $(document).on("keyup", "#mrp"+id, function () {
            discount(id);
            });
            $(document).on("keyup", "#discount"+id, function () {
            discount(id);
            });
            $(document).on("change", "#discount_type"+id, function () {
            discount(id);
            });
        });